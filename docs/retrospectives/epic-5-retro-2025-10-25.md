# Epic 5 Retrospective — Debugging & Monitoring

Date: 2025-10-25
Facilitator: Bob (Scrum Master)

Epic: Epic 5 — Debugging & Monitoring
Status: Hoàn thành (2/2 stories done)

## Điều Đã Làm Tốt
- Debug mode (`n=1`) cho phép QA/Dev xác minh payload theo yêu cầu, giảm rủi ro triển khai.
- Structured logging (JSON) giúp quan sát và chẩn đoán nhanh; Hono logger bao phủ toàn bộ request lifecycle.

## Cần Cải Thiện
- Đồng bộ sớm tiêu chuẩn log với error handling (Story 1.4) để thống nhất định dạng phản hồi lỗi.
- Bổ sung guideline tránh log dữ liệu nhạy cảm (PII) và lọc metadata không cần thiết.

## Bài Học Rút Ra
1. Debug mode không gây side-effect: không gửi GA4 khi `n=1`; chỉ trả JSON minh bạch.
2. Quy ước map `isNoRedirect=1` → `n=1` nhất quán giúp quy trình kiểm thử gọn nhẹ.
3. Chuẩn hóa logger sớm giảm chi phí tích hợp khi mở rộng tracking (Epic 7).

## Action Items (Chủ Trì)
- Chuẩn hóa và tài liệu hóa định dạng log JSON (SM/Dev).
- Thêm kiểm thử đảm bảo không log PII và khóa/mask trường nhạy cảm (Dev).
- Gắn logging vào các nhánh lỗi tracking/GA4 để tăng quan sát (Dev).

## Chuẩn Bị Cho Epic Tiếp Theo
- Dependencies: Validation (Epic 6) — 6.1 đã hoàn tất; cần hoàn thiện 6.2, 6.3 trước khi mở rộng tracking.
- Gaps: Thiếu GA4 payload builder (7.2) và HTTP integration (7.3).
- Critical Path: Hoàn thành 6.2–6.3; tiếp theo 7.1–7.4 để bật tracking đầu-cuối.

## Metrics
- Stories Planned: 2
- Stories Done: 2
- Blockers: none

---
Approved by: vanTT

